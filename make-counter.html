<!DOCTYPE html>
<html>
<head>
    <title>
        Make Counter
    </title>
</head>
<body>
<script>
    'use strict';
    // @link https://developer.mozilla.org/ru/docs/Web/JavaScript/Closures
    function makeCounterSimple() {
        var currentCount = 1;

        return function () { // (**)
            return currentCount++;
        };
    }

    var counter = makeCounterSimple(); // (*)

    // каждый вызов увеличивает счётчик и возвращает результат
    makeCounterSimple();
    makeCounterSimple();
    makeCounterSimple();
    alert(counter());

    // создать другой счётчик, он будет независим от первого
    var counter2 = makeCounter();

    var makeCounter = function() {
        var privateCounter = 0;
        function changeBy(val) {
            privateCounter += val;
        }
        return {
            increment: function() {
                changeBy(1);
            },
            decrement: function() {
                changeBy(-1);
            },
            value: function() {
                return privateCounter;
            }
        }
    };

    var Counter1 = makeCounter();
    var Counter2 = makeCounter();
    alert(Counter1.value()); /* Alerts 0 */
    Counter1.increment();
    Counter1.increment();
    alert(Counter1.value()); /* Alerts 2 */
    Counter1.decrement();
    alert(Counter1.value()); /* Alerts 1 */
    alert(Counter2.value()); /* Alerts 0 */

</script>
</body>

</html>